
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>FRED Overview &#8212; Apples</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/my_boy_neil.jpg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Yahoo Finance Overview" href="3_yf_overview.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/my_boy_neil.jpg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Apples</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Fun with Apples
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="1_Market_Risk_Premium.html">
   Market Risk Premium
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2_volatility_drag.html">
   Vol Drag
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3_yf_overview.html">
   Yahoo Finance Overview
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   FRED Overview
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/Brandt-moreThan4/blog/master?urlpath=tree/book/content/4_FRED.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/Brandt-moreThan4/blog"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/Brandt-moreThan4/blog/issues/new?title=Issue%20on%20page%20%2Fcontent/4_FRED.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/content/4_FRED.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#establishing-a-fred-object">
   Establishing a FRED object
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#requesting-data">
   Requesting Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#helpful-functions">
   Helpful Functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#examples">
   Examples
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#us-gdp-growth">
     US GDP Growth
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inflation">
     Inflation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#vix">
     VIX
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#future-to-do">
   Future To DO?
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>FRED Overview</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#establishing-a-fred-object">
   Establishing a FRED object
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#requesting-data">
   Requesting Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#helpful-functions">
   Helpful Functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#examples">
   Examples
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#us-gdp-growth">
     US GDP Growth
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inflation">
     Inflation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#vix">
     VIX
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#future-to-do">
   Future To DO?
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="fred-overview">
<h1>FRED Overview<a class="headerlink" href="#fred-overview" title="Permalink to this headline">#</a></h1>
<p>In order to programatically request data from FRED, you first need to first request an api key from the
<a class="reference external" href="https://fred.stlouisfed.org/docs/api/api_key.html">FRED website</a>. After you have done so, you’ll  have the ability to request data from FRED via python. The python package I
have always used is <a class="reference external" href="https://github.com/mortada/fredapi">fredapi</a>. There isn’t any special reason why I chose this package over the other ones I have seen, but it was the first one I encountered a long time ago and it hasn’t failed me yet, so I have felt no urge to change.</p>
<section id="establishing-a-fred-object">
<h2>Establishing a FRED object<a class="headerlink" href="#establishing-a-fred-object" title="Permalink to this headline">#</a></h2>
<p>Step one when using FRED is to import the package and establish a master “fred” object. The fred object is the primary work horse and will be doing most of the heavy lifting.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fredapi</span> <span class="kn">import</span> <span class="n">Fred</span>

<span class="c1"># Load in api from config file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;secrets.yml&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">secrets</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>


<span class="n">fred</span> <span class="o">=</span> <span class="n">Fred</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">secrets</span><span class="p">[</span><span class="s1">&#39;fred_api_key&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="requesting-data">
<h2>Requesting Data<a class="headerlink" href="#requesting-data" title="Permalink to this headline">#</a></h2>
<p>Now, let’s say we would like to see the US Nominal GDP growth over time. The steps to doing this are:</p>
<ol class="simple">
<li><p>Find the <a class="reference external" href="https://fred.stlouisfed.org/series/GDP">data</a> on FRED (Google tends to work better than directly searching in fred)</p>
<ul class="simple">
<li><p>My search: “fred us nominal gdp”</p></li>
</ul>
</li>
<li><p>Verify this is the data you want.</p></li>
<li><p>Copy the series ID: found in the url or right after the title of the series.</p></li>
<li><p>Call the ‘get_series’ method on the fred object and pass the series ID as an argument:</p></li>
</ol>
<br>
<p><img alt="FRED" src="../_images/GDP_snip.PNG" /></p>
<p>Note: There are other arguments you can pass to the ‘get_series’ method, such as start and end dates, but I tend to just request all of the data and do any filtering as-needed later on.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pull Data:</span>
<span class="n">us_nominal_gdp</span> <span class="o">=</span> <span class="n">fred</span><span class="o">.</span><span class="n">get_series</span><span class="p">(</span><span class="s1">&#39;GDP&#39;</span><span class="p">)</span>

<span class="c1"># For some reason, FRED returns the values in 1946 as nan, so drop those:</span>
<span class="n">us_nominal_gdp</span> <span class="o">=</span> <span class="n">us_nominal_gdp</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

<span class="c1"># Also, I think the data prints prettier in the notebook if it is converted to a DataFrame:</span>
<span class="n">us_nominal_gdp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">us_nominal_gdp</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GDP&#39;</span><span class="p">])</span>
<span class="n">us_nominal_gdp</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>GDP</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1947-01-01</th>
      <td>243.164</td>
    </tr>
    <tr>
      <th>1947-04-01</th>
      <td>245.968</td>
    </tr>
    <tr>
      <th>1947-07-01</th>
      <td>249.585</td>
    </tr>
    <tr>
      <th>1947-10-01</th>
      <td>259.745</td>
    </tr>
    <tr>
      <th>1948-01-01</th>
      <td>265.742</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>2022-07-01</th>
      <td>25994.639</td>
    </tr>
    <tr>
      <th>2022-10-01</th>
      <td>26408.405</td>
    </tr>
    <tr>
      <th>2023-01-01</th>
      <td>26813.601</td>
    </tr>
    <tr>
      <th>2023-04-01</th>
      <td>27063.012</td>
    </tr>
    <tr>
      <th>2023-07-01</th>
      <td>27644.463</td>
    </tr>
  </tbody>
</table>
<p>307 rows × 1 columns</p>
</div></div></div>
</div>
<p>That’s basically all there is to it!</p>
</section>
<section id="helpful-functions">
<h2>Helpful Functions<a class="headerlink" href="#helpful-functions" title="Permalink to this headline">#</a></h2>
<p>There are a few tasks that I tend to do frequently when working with FRED data after pulling it from the api. Because of that, I created a few helper functions that I use as a wrapper around the api. These are what  I primarily interact with. Some of the “enchancements” that I like:</p>
<ul class="simple">
<li><p>Converting from series to a dataframe.</p></li>
<li><p>Providing a better name for the data, rather than the FRED series id.</p></li>
<li><p>Send in an iterable of ids to request data in bulk.</p></li>
<li><p>Merge the data together</p></li>
</ul>
<p>So these are the functions I made:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_fred_data_series</span><span class="p">(</span><span class="n">series_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;This function pulls data from FRED and returns it as a DataFrame, if you input a name, it will use that as the</span>
<span class="sd">      column name, otherwise it will use the series_id as the column name. &#39;&#39;&#39;</span>
    
    <span class="n">data_name</span> <span class="o">=</span> <span class="n">name</span> <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">series_id</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">fred</span><span class="o">.</span><span class="n">get_series</span><span class="p">(</span><span class="n">series_id</span><span class="p">)</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
    <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">data_name</span><span class="p">]</span>
    <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;date&quot;</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="k">def</span> <span class="nf">get_fred_data</span><span class="p">(</span><span class="n">series_ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span><span class="nb">str</span><span class="p">],</span> <span class="n">names</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">merge_data</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span><span class="nb">dict</span><span class="p">]:</span>

    <span class="c1"># If the input was a string, we can just call the get_fred_data_series function once right now and return the result</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">series_ids</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_fred_data_series</span><span class="p">(</span><span class="n">series_ids</span><span class="p">,</span> <span class="n">names</span><span class="p">)</span>
    

    <span class="n">names</span> <span class="o">=</span> <span class="n">names</span> <span class="k">if</span> <span class="n">names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">series_ids</span>
    <span class="n">ids_and_names</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">series_ids</span><span class="p">,</span> <span class="n">names</span><span class="p">)</span>
    <span class="c1"># Now pull the data</span>
    <span class="n">all_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_fred_data_series</span><span class="p">(</span><span class="n">series_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="n">series_id</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">ids_and_names</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">merge_data</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">all_data</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">join</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">series_ids</span><span class="p">,</span><span class="n">all_data</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</div>
</div>
<p>To get a feel for it, and make sure it works, here are a few tests. First, single data series:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">get_fred_data</span><span class="p">(</span><span class="s1">&#39;GDP&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>GDP</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-07-01</th>
      <td>25994.639</td>
    </tr>
    <tr>
      <th>2022-10-01</th>
      <td>26408.405</td>
    </tr>
    <tr>
      <th>2023-01-01</th>
      <td>26813.601</td>
    </tr>
    <tr>
      <th>2023-04-01</th>
      <td>27063.012</td>
    </tr>
    <tr>
      <th>2023-07-01</th>
      <td>27644.463</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now, try sending in multiple series ids that we want to combine - GDP, Real GDP, and cpi:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">DATA_TO_REQUEST</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;GDP&#39;</span><span class="p">,</span><span class="s1">&#39;GDPC1&#39;</span><span class="p">,</span><span class="s1">&#39;CPIAUCSL&#39;</span><span class="p">]</span>
<span class="n">DATA_NAMES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;GDP&#39;</span><span class="p">,</span><span class="s1">&#39;Real GDP&#39;</span><span class="p">,</span><span class="s1">&#39;cpi&#39;</span><span class="p">]</span>
<span class="n">data_df</span> <span class="o">=</span> <span class="n">get_fred_data</span><span class="p">(</span><span class="n">DATA_TO_REQUEST</span><span class="p">,</span> <span class="n">DATA_NAMES</span><span class="p">)</span>
<span class="n">data_df</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>GDP</th>
      <th>Real GDP</th>
      <th>cpi</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2023-06-01</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>303.841</td>
    </tr>
    <tr>
      <th>2023-07-01</th>
      <td>27644.463</td>
      <td>22506.365</td>
      <td>304.348</td>
    </tr>
    <tr>
      <th>2023-08-01</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>306.269</td>
    </tr>
    <tr>
      <th>2023-09-01</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>307.481</td>
    </tr>
    <tr>
      <th>2023-10-01</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>307.619</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Beautiful, now test how it looks if we don’t want to combine the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">DATA_TO_REQUEST</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;GDP&#39;</span><span class="p">,</span><span class="s1">&#39;GDPC1&#39;</span><span class="p">,</span><span class="s1">&#39;CPIAUCSL&#39;</span><span class="p">]</span>
<span class="n">DATA_NAMES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;GDP&#39;</span><span class="p">,</span><span class="s1">&#39;Real GDP&#39;</span><span class="p">,</span><span class="s1">&#39;cpi&#39;</span><span class="p">]</span>
<span class="c1"># Below function will return a dictionary of DataFrames</span>
<span class="n">data_dict</span> <span class="o">=</span> <span class="n">get_fred_data</span><span class="p">(</span><span class="n">DATA_TO_REQUEST</span><span class="p">,</span> <span class="n">DATA_NAMES</span><span class="p">,</span><span class="n">merge_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Show me the inflation data:</span>
<span class="n">data_dict</span><span class="p">[</span><span class="s1">&#39;CPIAUCSL&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cpi</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1947-01-01</th>
      <td>21.480</td>
    </tr>
    <tr>
      <th>1947-02-01</th>
      <td>21.620</td>
    </tr>
    <tr>
      <th>1947-03-01</th>
      <td>22.000</td>
    </tr>
    <tr>
      <th>1947-04-01</th>
      <td>22.000</td>
    </tr>
    <tr>
      <th>1947-05-01</th>
      <td>21.950</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>2023-06-01</th>
      <td>303.841</td>
    </tr>
    <tr>
      <th>2023-07-01</th>
      <td>304.348</td>
    </tr>
    <tr>
      <th>2023-08-01</th>
      <td>306.269</td>
    </tr>
    <tr>
      <th>2023-09-01</th>
      <td>307.481</td>
    </tr>
    <tr>
      <th>2023-10-01</th>
      <td>307.619</td>
    </tr>
  </tbody>
</table>
<p>922 rows × 1 columns</p>
</div></div></div>
</div>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">#</a></h2>
<p>Finally, here are a few more examples of seeing how the data might be used in action to create some informative plots.</p>
<section id="us-gdp-growth">
<h3>US GDP Growth<a class="headerlink" href="#us-gdp-growth" title="Permalink to this headline">#</a></h3>
<p>We sort of already saw this above, but just to be thorough, let’s examine the quarterly growth rate of Real GDP in the US
for as far back as FRED will let us look.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Request the data and verify that it looks ok:</span>
<span class="n">DATA_TO_REQUEST</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;GDPC1&#39;</span><span class="p">]</span>
<span class="n">gdp_df</span> <span class="o">=</span> <span class="n">get_fred_data</span><span class="p">(</span><span class="n">DATA_TO_REQUEST</span><span class="p">)</span>

<span class="c1"># Calculate the Quarterly Growth Rate:</span>
<span class="n">gdp_df</span><span class="p">[</span><span class="s1">&#39;quarterly_growth&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gdp_df</span><span class="p">[</span><span class="s1">&#39;GDPC1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pct_change</span><span class="p">()</span>

<span class="c1"># Drop NaNs that were introducted by the pct_change function (We also need to drop those NANs from 1926.) </span>
<span class="n">gdp_df</span> <span class="o">=</span> <span class="n">gdp_df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

<span class="n">gdp_df</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>GDPC1</th>
      <th>quarterly_growth</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-07-01</th>
      <td>21851.134</td>
      <td>0.006586</td>
    </tr>
    <tr>
      <th>2022-10-01</th>
      <td>21989.981</td>
      <td>0.006354</td>
    </tr>
    <tr>
      <th>2023-01-01</th>
      <td>22112.329</td>
      <td>0.005564</td>
    </tr>
    <tr>
      <th>2023-04-01</th>
      <td>22225.350</td>
      <td>0.005111</td>
    </tr>
    <tr>
      <th>2023-07-01</th>
      <td>22506.365</td>
      <td>0.012644</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Looks good, so let’s go ahead and plot the data, for good measure.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">gdp_df</span><span class="p">[</span><span class="s1">&#39;quarterly_growth&#39;</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">FuncFormatter</span><span class="p">(</span><span class="n">percentage_formatter</span><span class="p">))</span> <span class="c1"># Format the y-axis as percentages</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Quarterly Real US GDP Growth&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/4_FRED_20_0.png" src="../_images/4_FRED_20_0.png" />
</div>
</div>
<p>Display some summary stats as well:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gdp_df</span><span class="p">[</span><span class="s1">&#39;quarterly_growth&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>quarterly_growth</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>306.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.007717</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.011260</td>
    </tr>
    <tr>
      <th>min</th>
      <td>-0.078910</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.003105</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.007721</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>0.012623</td>
    </tr>
    <tr>
      <th>max</th>
      <td>0.077592</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>What quarters had the lowest and highest GDP changes?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">min_growth</span> <span class="o">=</span> <span class="n">gdp_df</span><span class="p">[</span><span class="s1">&#39;quarterly_growth&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">max_growth</span> <span class="o">=</span> <span class="n">gdp_df</span><span class="p">[</span><span class="s1">&#39;quarterly_growth&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>


<span class="n">min_max_results_df</span> <span class="o">=</span> <span class="n">gdp_df</span><span class="p">[(</span><span class="n">gdp_df</span><span class="p">[</span><span class="s1">&#39;quarterly_growth&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">min_growth</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">gdp_df</span><span class="p">[</span><span class="s1">&#39;quarterly_growth&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">max_growth</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Add a column to label the min and max values... Just to make it super easy on the eyes:</span>
<span class="n">min_max_results_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">min_max_results_df</span><span class="p">[</span><span class="s1">&#39;quarterly_growth&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">min_growth</span><span class="p">,</span> <span class="s1">&#39;Label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Minimum&#39;</span>
<span class="n">min_max_results_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">min_max_results_df</span><span class="p">[</span><span class="s1">&#39;quarterly_growth&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">max_growth</span><span class="p">,</span> <span class="s1">&#39;Label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Maximum&#39;</span>

<span class="n">min_max_results_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>GDPC1</th>
      <th>quarterly_growth</th>
      <th>Label</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-04-01</th>
      <td>19034.830</td>
      <td>-0.078910</td>
      <td>Minimum</td>
    </tr>
    <tr>
      <th>2020-07-01</th>
      <td>20511.785</td>
      <td>0.077592</td>
      <td>Maximum</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The minimum and maximum GDP growth rates were when the economy was first entering and exiting COVID. Makes sense.</p>
</section>
<section id="inflation">
<h3>Inflation<a class="headerlink" href="#inflation" title="Permalink to this headline">#</a></h3>
<p>Inflation is another hot topic right now. Something interesting to note is that when most news articles or commentators are discussing
inflation, they are usually referencing the CPI index. But the Federal Reserve Board of Governors has stated that they
use the PCE index as their preferred gauge of inflation. That feels a little wierd, why the inconsistency? For now, I’ll ignore
the <em>why</em> behind the discrepancy, and instead use FRED to show that they are basically the same thing:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">INFLATION_SERIES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CPIAUCSL&#39;</span><span class="p">,</span><span class="s1">&#39;PCEPI&#39;</span><span class="p">]</span>
<span class="n">DATA_NAMES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CPI&#39;</span><span class="p">,</span><span class="s1">&#39;PCE&#39;</span><span class="p">]</span>
<span class="n">inflation_df</span> <span class="o">=</span> <span class="n">get_fred_data</span><span class="p">(</span><span class="n">INFLATION_SERIES</span><span class="p">,</span> <span class="n">DATA_NAMES</span><span class="p">)</span>

<span class="c1"># YoY Inflation Rate:</span>
<span class="n">inflation_df</span><span class="p">[</span><span class="s1">&#39;CPI_YoY&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">inflation_df</span><span class="p">[</span><span class="s1">&#39;CPI&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pct_change</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="n">inflation_df</span><span class="p">[</span><span class="s1">&#39;PCE_YoY&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">inflation_df</span><span class="p">[</span><span class="s1">&#39;PCE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pct_change</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>


<span class="c1"># Drop nas:</span>
<span class="n">inflation_df</span> <span class="o">=</span> <span class="n">inflation_df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">inflation_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CPI</th>
      <th>PCE</th>
      <th>CPI_YoY</th>
      <th>PCE_YoY</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1960-01-01</th>
      <td>29.370</td>
      <td>15.421</td>
      <td>0.012410</td>
      <td>0.016948</td>
    </tr>
    <tr>
      <th>1960-02-01</th>
      <td>29.410</td>
      <td>15.437</td>
      <td>0.014138</td>
      <td>0.016997</td>
    </tr>
    <tr>
      <th>1960-03-01</th>
      <td>29.410</td>
      <td>15.446</td>
      <td>0.015188</td>
      <td>0.016920</td>
    </tr>
    <tr>
      <th>1960-04-01</th>
      <td>29.540</td>
      <td>15.502</td>
      <td>0.019324</td>
      <td>0.018595</td>
    </tr>
    <tr>
      <th>1960-05-01</th>
      <td>29.570</td>
      <td>15.518</td>
      <td>0.018251</td>
      <td>0.019111</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2023-06-01</th>
      <td>303.841</td>
      <td>120.221</td>
      <td>0.030920</td>
      <td>0.031984</td>
    </tr>
    <tr>
      <th>2023-07-01</th>
      <td>304.348</td>
      <td>120.438</td>
      <td>0.032991</td>
      <td>0.033705</td>
    </tr>
    <tr>
      <th>2023-08-01</th>
      <td>306.269</td>
      <td>120.877</td>
      <td>0.037075</td>
      <td>0.034109</td>
    </tr>
    <tr>
      <th>2023-09-01</th>
      <td>307.481</td>
      <td>121.325</td>
      <td>0.036899</td>
      <td>0.034190</td>
    </tr>
    <tr>
      <th>2023-10-01</th>
      <td>307.619</td>
      <td>121.385</td>
      <td>0.032324</td>
      <td>0.030066</td>
    </tr>
  </tbody>
</table>
<p>766 rows × 4 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">inflation_df</span><span class="p">[</span><span class="s1">&#39;CPI_YoY&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;CPI &#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">inflation_df</span><span class="p">[</span><span class="s1">&#39;PCE_YoY&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;PCE&#39;</span><span class="p">)</span>
<span class="c1"># Format the y axis as a percent:</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">FuncFormatter</span><span class="p">(</span><span class="n">percentage_formatter</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;CPI vs PCE&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/4_FRED_29_0.png" src="../_images/4_FRED_29_0.png" />
</div>
</div>
<p>So yea, they track each other pretty closely! To be precise and quantitive about exactly how close “pretty close” is, we
can calculate the correlation between the rates of inflation using each index:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">correlation</span> <span class="o">=</span> <span class="n">inflation_df</span><span class="p">[</span><span class="s1">&#39;CPI_YoY&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">inflation_df</span><span class="p">[</span><span class="s1">&#39;PCE_YoY&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The correlation between CPI and PCE is: </span><span class="si">{</span><span class="n">correlation</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The correlation between CPI and PCE is: 0.98
</pre></div>
</div>
</div>
</div>
</section>
<section id="vix">
<h3>VIX<a class="headerlink" href="#vix" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vix_df</span> <span class="o">=</span> <span class="n">get_fred_data</span><span class="p">(</span><span class="s1">&#39;VIXCLS&#39;</span><span class="p">,</span> <span class="s1">&#39;VIX&#39;</span><span class="p">)</span>

<span class="c1"># For some reason, there are many missing values in the VIX data, so we will interpolate those:</span>
<span class="n">vix_df</span><span class="p">[</span><span class="s1">&#39;VIX&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vix_df</span><span class="p">[</span><span class="s1">&#39;VIX&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">interpolate</span><span class="p">()</span>

<span class="c1"># Rolling 1 month average:</span>
<span class="n">vix_df</span><span class="p">[</span><span class="s1">&#39;VIX_1M&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vix_df</span><span class="p">[</span><span class="s1">&#39;VIX&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">22</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># Rolling 3 month average:</span>
<span class="n">vix_df</span><span class="p">[</span><span class="s1">&#39;VIX_3M&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vix_df</span><span class="p">[</span><span class="s1">&#39;VIX&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">365</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># Entire time period average:</span>
<span class="n">vix_df</span><span class="p">[</span><span class="s1">&#39;VIX_AVG&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vix_df</span><span class="p">[</span><span class="s1">&#39;VIX&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>


<span class="c1"># Plot the data: (Not plotting the 1-Month because it follows the actualy number pretty close and the graph is too busy)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">vix_df</span><span class="p">[</span><span class="s1">&#39;VIX&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;VIX&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">vix_df</span><span class="p">[</span><span class="s1">&#39;VIX_3M&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;3 Month Moving Average&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">vix_df</span><span class="p">[</span><span class="s1">&#39;VIX_AVG&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Average&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;VIX&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/4_FRED_34_0.png" src="../_images/4_FRED_34_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Display the data:</span>
<span class="n">vix_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>VIX</th>
      <th>VIX_1M</th>
      <th>VIX_3M</th>
      <th>VIX_AVG</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1990-01-02</th>
      <td>17.24</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>19.591738</td>
    </tr>
    <tr>
      <th>1990-01-03</th>
      <td>18.19</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>19.591738</td>
    </tr>
    <tr>
      <th>1990-01-04</th>
      <td>19.22</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>19.591738</td>
    </tr>
    <tr>
      <th>1990-01-05</th>
      <td>20.11</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>19.591738</td>
    </tr>
    <tr>
      <th>1990-01-08</th>
      <td>20.26</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>19.591738</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2023-11-24</th>
      <td>12.46</td>
      <td>15.317273</td>
      <td>19.990603</td>
      <td>19.591738</td>
    </tr>
    <tr>
      <th>2023-11-27</th>
      <td>12.69</td>
      <td>14.954091</td>
      <td>19.949945</td>
      <td>19.591738</td>
    </tr>
    <tr>
      <th>2023-11-28</th>
      <td>12.69</td>
      <td>14.564091</td>
      <td>19.909260</td>
      <td>19.591738</td>
    </tr>
    <tr>
      <th>2023-11-29</th>
      <td>12.98</td>
      <td>14.256364</td>
      <td>19.871589</td>
      <td>19.591738</td>
    </tr>
    <tr>
      <th>2023-11-30</th>
      <td>12.92</td>
      <td>14.019091</td>
      <td>19.835534</td>
      <td>19.591738</td>
    </tr>
  </tbody>
</table>
<p>8848 rows × 4 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show some basic summary statistics:</span>
<span class="n">vix_df</span><span class="p">[</span><span class="s1">&#39;VIX&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>VIX</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>8848.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>19.591738</td>
    </tr>
    <tr>
      <th>std</th>
      <td>7.893034</td>
    </tr>
    <tr>
      <th>min</th>
      <td>9.140000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>13.900000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>17.790000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>23.010000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>82.690000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="future-to-do">
<h2>Future To DO?<a class="headerlink" href="#future-to-do" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Show how to get unrevised data</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="3_yf_overview.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Yahoo Finance Overview</p>
        </div>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Brandt Green<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>